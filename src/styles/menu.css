/* Menu Styles - Sharlee-inspired SVG Hamburger with Stroke */

/* Hamburger Button */
.hamburger {
  position: fixed;
  top: calc(var(--spacing-lg) + var(--spacing-md)); /* Exactly like Sharlee - much lower */
  right: calc(var(--spacing-lg) + var(--spacing-sm)); /* Exactly like Sharlee - more x-padding */
  z-index: 10000;
  width: 48px;
  height: 48px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
  transition: transform 0.3s ease;
}

.hamburger:hover {
  transform: scale(1.05);
}

/* SVG Container */
.hamburger-svg {
  display: block;
  width: 48px;
  height: 48px;
}

/* ============================================
   CIRCLES - Default State (Stroke Style)
   ============================================ */

.circle {
  fill: none;
  stroke: var(--text-color);
  stroke-width: 2px;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 1;
  transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1), stroke 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  transform-origin: center;
}

/* Cross-forming circles (top, right, bottom, left, center) */
.circle-2 { transform: translate(0, 0); }      /* Top */
.circle-4 { transform: translate(0, 0); }      /* Right */
.circle-6 { transform: translate(0, 0); }      /* Bottom */
.circle-8 { transform: translate(0, 0); }      /* Left */
.circle-center { transform: translate(0, 0); } /* Center */

/* ============================================
   RECTANGLES - Hidden by Default
   ============================================ */

.rect {
  fill: none;
  stroke: var(--text-color);
  stroke-width: 2px;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1), stroke 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  transform-origin: center;
}

/* Individual rectangle initial states - collapsed to center */
.rect-top { transform: scaleY(0); transform-origin: center bottom; }
.rect-right { transform: scaleX(0); transform-origin: left center; }
.rect-bottom { transform: scaleY(0); transform-origin: center top; }
.rect-left { transform: scaleX(0); transform-origin: right center; }
.rect-center { transform: scale(0); transform-origin: center; }

/* ============================================
   HOVER STATE - Transform Circles to Plus
   ============================================ */

/* Hover: Hide cross-forming circles (center + cardinals) */
.hamburger:hover .circle-2,
.hamburger:hover .circle-4,
.hamburger:hover .circle-6,
.hamburger:hover .circle-8,
.hamburger:hover .circle-center {
  opacity: 0;
}

/* Hover: Push circles outward */
.hamburger:hover .circle-2 { transform: translate(0, -6px); }      /* Top moves up */
.hamburger:hover .circle-4 { transform: translate(6px, 0); }       /* Right moves right */
.hamburger:hover .circle-6 { transform: translate(0, 6px); }       /* Bottom moves down */
.hamburger:hover .circle-8 { transform: translate(-6px, 0); }      /* Left moves left */

/* Hover: Show rectangles forming cross - grow from center */
.hamburger:hover .rect {
  opacity: 1;
}

.hamburger:hover .rect-top { transform: scaleY(1); }
.hamburger:hover .rect-right { transform: scaleX(1); }
.hamburger:hover .rect-bottom { transform: scaleY(1); }
.hamburger:hover .rect-left { transform: scaleX(1); }
.hamburger:hover .rect-center { transform: scale(1); }

/* ============================================
   OPEN STATE - Show Plus/Cross
   ============================================ */

/* When menu is open: hide circles, show rectangles */
.hamburger.open .circle {
  opacity: 0;
  transform: scale(0);
}

.hamburger.open .rect {
  opacity: 1;
  transform: scale(1);
  stroke: #606887; /* Light mode */
}

/* Dark mode - lighter stroke when open */
[data-theme="dark"] .hamburger.open .rect {
  stroke: rgba(255, 255, 255, 0.6);
}

/* Menu Overlay - Glass morphism effect */
.menu-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(250, 250, 250, 0.95); /* Light mode background */
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  z-index: 9998;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  border: 1px solid var(--color-border);
}

/* Dark mode menu overlay */
[data-theme="dark"] .menu-overlay {
  background-color: rgba(10, 10, 21, 0.95); /* Dark mode background */
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.menu-nav {
  width: 100%;
  max-width: 800px;
  padding: var(--spacing-md);
}

.menu-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.menu-list-item {
  margin: 0;
}

.menu-item {
  font-family: var(--font-display); /* Space Grotesk for impact */
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: var(--font-weight-bold);
  color: var(--color-text);
  text-align: left;
  width: 100%;
  padding: var(--spacing-sm) 0;
  background: none;
  border: none;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  letter-spacing: -0.02em;
  transition: color 0.3s ease, transform 0.3s ease;
}

.menu-item::before {
  content: '';
  position: absolute;
  left: 0;
  bottom: 0;
  width: 0;
  height: 3px;
  background-color: var(--color-text-primary);
  transition: width 0.4s ease;
}

.menu-item:hover::before,
.menu-item:focus-visible::before {
  width: 100%;
}

.menu-item:hover,
.menu-item:focus-visible {
  font-weight: var(--font-weight-semibold);
  transform: translateX(10px);
}

.menu-item.active {
  font-weight: var(--font-weight-semibold);
}

.menu-item.active::before {
  width: 100%;
}

/* Mobile Adjustments */
@media (max-width: 768px) {
  .hamburger {

    top: calc(var(--spacing-md) * 2);
    right: calc(var(--spacing-sm) * 2);
    width: 40px;
    height: 40px;
  }

  .hamburger-svg {
    width: 40px;
    height: 40px;
  }

  .menu-item {
    font-size: clamp(2rem, 10vw, 3.5rem);
    padding: var(--spacing-xs) 0;
  }

  .menu-nav {
    padding: var(--spacing-sm) var(--spacing-md);
  }
}

/* Hide theme and audio toggles when menu is open */
body.menu-open .theme-toggle,
body.menu-open .audio-toggle {
  opacity: 0;
  pointer-events: none;
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  .hamburger,
  .circle,
  .rect,
  .menu-item,
  .menu-item::before {
    transition: none !important;
  }

  .hamburger:hover .circle,
  .hamburger.open .circle {
    transform: none !important;
  }

  .hamburger:hover .rect,
  .hamburger.open .rect {
    transform: none !important;
  }
}
